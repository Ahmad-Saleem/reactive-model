(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
  typeof define === 'function' && define.amd ? define(factory) :
  global.ReactiveModel = factory();
}(this, function () { 'use strict';

  // A graph data structure with depth-first search.
  function Graph(){
    
    // The adjacency list of the graph.
    // Keys are node ids.
    // Values are adjacent node id arrays.
    var edges = {};

    // Gets or creates the adjacent node list for node u.
    function adjacent(u){
      return edges[u] || (edges[u] = []);
    }

    function addEdge(u, v){
      adjacent(u).push(v);
    }

    // TODO test this function
    //function removeEdge(u, v){
    //  if(edges[u]) {
    //    edges[u] = edges[u]
    //  }
    //  adjacent(u).push(v);
    //}

    // Depth First Search algorithm, inspired by
    // Cormen et al. "Introduction to Algorithms" 3rd Ed. p. 604
    function DFS(sourceNodes, shouldVisit){

      var visited = {};
      var nodes = [];

      if(!shouldVisit){
        shouldVisit = function (node) { return true; };
      }

      sourceNodes.forEach(function DFSVisit(node){
        if(!visited[node] && shouldVisit(node)){
          visited[node] = true;
          adjacent(node).forEach(DFSVisit);
          nodes.push(node);
        }
      });

      return nodes;
    }
    
    return {
      adjacent: adjacent,
      addEdge: addEdge,
      //removeEdge: removeEdge,
      DFS: DFS
    };
  }

  function ReactiveGraph(){
    var reactiveGraph = new Graph();

    // { node -> getterSetter }
    var getterSetters = {};

    // { node -> λ }
    var reactiveFunctions = {};

    // { node -> true }
    var changedPropertyNodes = {};
    
    var nodeCounter = 0;

    function makeNode(){
      return nodeCounter++;
    }

    function makePropertyNode(getterSetter){
      var node = makeNode();
      getterSetters[node] = getterSetter;
      return node;
    }

    function makeReactiveFunctionNode(λ){
      var node = makeNode();
      reactiveFunctions[node] = λ;
      return node;
    }

    function addReactiveFunction(λ){

      if( (λ.inNodes === undefined) || (λ.outNode === undefined) ){
        throw new Error("Attempting to add a reactive function that " +
          "doesn't have inNodes or outNode defined first.");
      }

      λ.inNodes.forEach(function (inNode){
        reactiveGraph.addEdge(inNode, λ.node);
      });

      reactiveGraph.addEdge(λ.node, λ.outNode);
    }

    function evaluate(λ){
      var inValues = λ.inNodes.map(getPropertyNodeValue);

      if(inValues.every(isDefined)){

        var outValue = λ.callback.apply(null, inValues);
        var getterSetter = getterSetters[λ.outNode];

        if(outValue instanceof Promise){
          outValue.then(getterSetter);
        } else {
          getterSetter(outValue);
        }
      }
    }

    function isDefined(value){
      return !(typeof value === "undefined" || value === null);
    }

    function getPropertyNodeValue(node){
      return getterSetters[node]();
    }

    function digest(){
    
      var sourceNodes = Object.keys(changedPropertyNodes);
      var visitedNodes = reactiveGraph.DFS(sourceNodes);
      var topologicallySorted = visitedNodes.reverse();

      topologicallySorted.forEach(function (node){
        if(node in reactiveFunctions){
          evaluate(reactiveFunctions[node]);
        }
      });

      sourceNodes.forEach(function(node){
        delete changedPropertyNodes[node];
      });
    }

    function propertyNodeDidChange(node){
      changedPropertyNodes[node] = true;

      // TODO add this:
      // scheduleDigestOnNextFrame();
    }

    reactiveGraph.addReactiveFunction      = addReactiveFunction;
    reactiveGraph.makeNode                 = makeNode;
    reactiveGraph.digest                   = digest;
    reactiveGraph.makePropertyNode         = makePropertyNode;
    reactiveGraph.makeReactiveFunctionNode = makeReactiveFunctionNode;
    reactiveGraph.propertyNodeDidChange    = propertyNodeDidChange;

    return reactiveGraph;
  }


  // Simplistic requestAnimationFrame polyfill.
  var nextFrame = (typeof requestAnimationFrame === "undefined") ? setTimeout : requestAnimationFrame;

  // Returns a debounced version of the given function
  // that will execute on the next animation frame.
  // Similar to http://underscorejs.org/#debounce
  function animationFrameDebounce(callback){
    var queued = false;
    return function () {
      if(!queued){
        queued = true;
        nextFrame(function () {
          queued = false;
          callback();
        }, 0);
      }
    };
  }


  // This file serves to document the reactive function data structure,
  // and contains a utility function for parsing the options passed to model.react().
  function ReactiveFunction(inProperties, outProperty, callback){
    var λ = {

      // An array of input property names.
      inProperties: inProperties,

      // The output property name.
      outProperty: outProperty,

      // function (inPropertyValues) -> outPropertyValue
      // Invoked during a digest,
      //   - when all input property values are first defined,
      //   - in response to any changes in input property values.
      callback: callback,

      // inNodes and outNodes are populated in the function reactiveModel.assignNodes(),
      // which is invoked after the original ReactiveFunction object is created.

      // An array of node id strings corresponding
      // to the property names in inProperties.
      inNodes: undefined,

      // The node id string corresponding to the output property.
      outNode: undefined
    };

    return λ;
  }

  // This function parses the options object passed into `model.react(options)`,
  // transforming it into an array of ReactiveFunction instances.
  ReactiveFunction.parse = function (options){
    return Object.keys(options).map(function (outProperty){
      var array = options[outProperty];
      var callback = array.splice(array.length - 1)[0];
      var inProperties = array;
      return ReactiveFunction(inProperties, outProperty, callback);
    });
  };

  var reactiveGraph = new ReactiveGraph();

  var addReactiveFunction      = reactiveGraph.addReactiveFunction;
  var makePropertyNode         = reactiveGraph.makePropertyNode;
  var makeReactiveFunctionNode = reactiveGraph.makeReactiveFunctionNode;
  var propertyNodeDidChange    = reactiveGraph.propertyNodeDidChange;

  var scheduleDigest = animationFrameDebounce(reactiveGraph.digest);

  function ReactiveModel(){
    
    // Enforce use of new, so instanceof and typeof checks will always work.
    if (!(this instanceof ReactiveModel)) {
      return new ReactiveModel();
    }

    // Refer to `this` (the ReactiveModel instance) as `model` in this closure.
    var model = this;

    // { property -> defaultValue }
    var publicProperties = {};

    // { property -> value }
    var values = {};

    // { property -> node }
    var trackedProperties = {};

    var isFinalized = false;

    function addPublicProperty(property, defaultValue){
      if(isFinalized){
        throw new Error("model.addPublicProperty() is being " +
          "invoked after model.finalize, but this is not allowed. "+
          "Public properties may only be added before the model is finalized.");
      }

      // TODO test this
      // if(isDefined(defaultValue)){
      //  throw new Error("model.addPublicProperty() is being " +
      //    "invoked with an undefined default value. Default values for public properties " +
      //    "must be defined, to guarantee predictable behavior. For public properties that " +
      //    "are optional and should have the semantics of an undefined value, " +
      //    "use ReactiveModel.NONE as the default value.");
      //}

      publicProperties[property] = defaultValue;

      return model;
    }

    function getDefaultValue(property){
      return publicProperties[property];
    }

    function finalize(){
      if(isFinalized){
        throw new Error("model.finalize() is being invoked " +
          "more than once, but this function should only be invoked once.");
      }
      isFinalized = true;

      Object.keys(publicProperties).forEach(function(property){
        track(property);
        model[property](getDefaultValue(property));
      });

      return model;
    }

    function getState(){
      var state = {};
      Object.keys(publicProperties).forEach( function (publicProperty){
        state[publicProperty] = values[publicProperty];
      });
      return state;
    }

    function setState(state){

      // TODO throw an error if some property in state
      // is not in publicProperties
      //Object.keys(state).forEach(function (property){
      //  if(!property in publicProperties){
      //    throw new Error("Attempting to set a property that has not" +
      //      " been added as a public property in model.setState()");
      //  }
      //});

      // Reset state to default values.
      Object.keys(publicProperties).forEach(function (property){
        var defaultValue = publicProperties[property];
        model[property](defaultValue);
      });

      // Apply values included in the new state.
      Object.keys(state).forEach(function (property){
        var newValue = state[property]
        model[property](newValue);
      });

      return model;
    }

    function react(options){
      ReactiveFunction.parse(options).forEach(function (λ){
        assignNodes(λ);
        addReactiveFunction(λ);
      });
    }

    function assignNodes(λ){
      λ.inNodes = λ.inProperties.map(track);
      λ.node = makeReactiveFunctionNode(λ);
      λ.outNode = track(λ.outProperty);
    }

    function track(property){
      if(property in trackedProperties){
        return trackedProperties[property];
      } else {
        var getterSetter = createGetterSetter(property);
        var propertyNode = makePropertyNode(getterSetter);
        model[property] = getterSetter;
        trackedProperties[property] = propertyNode;
        return propertyNode;
      }
    }

    function createGetterSetter(property){
      return function (value){
        if (!arguments.length) {
          return values[property];
        }
        values[property] = value;
        propertyDidChange(property);
        return model;
      };
    }

    function propertyDidChange(property){
      var propertyNode = trackedProperties[property];
      propertyNodeDidChange(propertyNode);
      scheduleDigest();
    }

    model.addPublicProperty = addPublicProperty;
    model.finalize = finalize;
    model.getState = getState;
    model.setState = setState;
    model.react = react;
  }

  ReactiveModel.digest = reactiveGraph.digest;

  // Export these internal modules for unit testing via Rollup CommonJS build.
  ReactiveModel.Graph = Graph;
  ReactiveModel.ReactiveGraph = ReactiveGraph;
  ReactiveModel.ReactiveFunction = ReactiveFunction;
  ReactiveModel.nextFrame = nextFrame;

  var reactiveModel = ReactiveModel;

  return reactiveModel;

}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmVhY3RpdmUtbW9kZWwuanMiLCJzb3VyY2VzIjpbIi9Vc2Vycy9jdXJyYW4vcmVwb3MvcmVhY3RpdmUtbW9kZWwvc3JjL2dyYXBoLmpzIiwiL1VzZXJzL2N1cnJhbi9yZXBvcy9yZWFjdGl2ZS1tb2RlbC9zcmMvcmVhY3RpdmVHcmFwaC5qcyIsIi9Vc2Vycy9jdXJyYW4vcmVwb3MvcmVhY3RpdmUtbW9kZWwvc3JjL2FuaW1hdGlvbkZyYW1lRGVib3VuY2UuanMiLCIvVXNlcnMvY3VycmFuL3JlcG9zL3JlYWN0aXZlLW1vZGVsL3NyYy9yZWFjdGl2ZUZ1bmN0aW9uLmpzIiwiL1VzZXJzL2N1cnJhbi9yZXBvcy9yZWFjdGl2ZS1tb2RlbC9zcmMvcmVhY3RpdmVNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBIGdyYXBoIGRhdGEgc3RydWN0dXJlIHdpdGggZGVwdGgtZmlyc3Qgc2VhcmNoLlxuZnVuY3Rpb24gR3JhcGgoKXtcbiAgXG4gIC8vIFRoZSBhZGphY2VuY3kgbGlzdCBvZiB0aGUgZ3JhcGguXG4gIC8vIEtleXMgYXJlIG5vZGUgaWRzLlxuICAvLyBWYWx1ZXMgYXJlIGFkamFjZW50IG5vZGUgaWQgYXJyYXlzLlxuICB2YXIgZWRnZXMgPSB7fTtcblxuICAvLyBHZXRzIG9yIGNyZWF0ZXMgdGhlIGFkamFjZW50IG5vZGUgbGlzdCBmb3Igbm9kZSB1LlxuICBmdW5jdGlvbiBhZGphY2VudCh1KXtcbiAgICByZXR1cm4gZWRnZXNbdV0gfHwgKGVkZ2VzW3VdID0gW10pO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkRWRnZSh1LCB2KXtcbiAgICBhZGphY2VudCh1KS5wdXNoKHYpO1xuICB9XG5cbiAgLy8gVE9ETyB0ZXN0IHRoaXMgZnVuY3Rpb25cbiAgLy9mdW5jdGlvbiByZW1vdmVFZGdlKHUsIHYpe1xuICAvLyAgaWYoZWRnZXNbdV0pIHtcbiAgLy8gICAgZWRnZXNbdV0gPSBlZGdlc1t1XVxuICAvLyAgfVxuICAvLyAgYWRqYWNlbnQodSkucHVzaCh2KTtcbiAgLy99XG5cbiAgLy8gRGVwdGggRmlyc3QgU2VhcmNoIGFsZ29yaXRobSwgaW5zcGlyZWQgYnlcbiAgLy8gQ29ybWVuIGV0IGFsLiBcIkludHJvZHVjdGlvbiB0byBBbGdvcml0aG1zXCIgM3JkIEVkLiBwLiA2MDRcbiAgZnVuY3Rpb24gREZTKHNvdXJjZU5vZGVzLCBzaG91bGRWaXNpdCl7XG5cbiAgICB2YXIgdmlzaXRlZCA9IHt9O1xuICAgIHZhciBub2RlcyA9IFtdO1xuXG4gICAgaWYoIXNob3VsZFZpc2l0KXtcbiAgICAgIHNob3VsZFZpc2l0ID0gZnVuY3Rpb24gKG5vZGUpIHsgcmV0dXJuIHRydWU7IH07XG4gICAgfVxuXG4gICAgc291cmNlTm9kZXMuZm9yRWFjaChmdW5jdGlvbiBERlNWaXNpdChub2RlKXtcbiAgICAgIGlmKCF2aXNpdGVkW25vZGVdICYmIHNob3VsZFZpc2l0KG5vZGUpKXtcbiAgICAgICAgdmlzaXRlZFtub2RlXSA9IHRydWU7XG4gICAgICAgIGFkamFjZW50KG5vZGUpLmZvckVhY2goREZTVmlzaXQpO1xuICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIG5vZGVzO1xuICB9XG4gIFxuICByZXR1cm4ge1xuICAgIGFkamFjZW50OiBhZGphY2VudCxcbiAgICBhZGRFZGdlOiBhZGRFZGdlLFxuICAgIC8vcmVtb3ZlRWRnZTogcmVtb3ZlRWRnZSxcbiAgICBERlM6IERGU1xuICB9O1xufVxuZXhwb3J0IGRlZmF1bHQgR3JhcGg7XG4iLCIvLyBBIGdyYXBoIGRhdGEgc3RydWN0dXJlIHRoYXQgcmVwcmVzZW50cyBhIGRhdGEgZGVwZW5kZW5jeSBncmFwaC5cbi8vIE5vZGVzIHJlcHJlc2VudCBwcm9wZXJ0aWVzIG9mIHJlYWN0aXZlIG1vZGVscyBhbmQgcmVhY3RpdmUgZnVuY3Rpb25zLlxuLy8gRWRnZXMgcmVwcmVzZW50IHJlYWN0aXZlIGRlcGVuZGVuY2llcy5cblxuLy8gQSBzaW5nbGUgaW5zdGFuY2Ugb2YgUmVhY3RpdmVHcmFwaCBjb250YWlucyBub2RlcyBmb3IgcHJvcGVydGllc1xuLy8gZnJvbSBtYW55IGRpZmZlcmVudCBpbnN0YW5jZXMgb2YgUmVhY3RpdmVNb2RlbC5cblxuaW1wb3J0IEdyYXBoIGZyb20gXCIuL2dyYXBoXCI7XG5cbmZ1bmN0aW9uIFJlYWN0aXZlR3JhcGgoKXtcbiAgdmFyIHJlYWN0aXZlR3JhcGggPSBuZXcgR3JhcGgoKTtcblxuICAvLyB7IG5vZGUgLT4gZ2V0dGVyU2V0dGVyIH1cbiAgdmFyIGdldHRlclNldHRlcnMgPSB7fTtcblxuICAvLyB7IG5vZGUgLT4gzrsgfVxuICB2YXIgcmVhY3RpdmVGdW5jdGlvbnMgPSB7fTtcblxuICAvLyB7IG5vZGUgLT4gdHJ1ZSB9XG4gIHZhciBjaGFuZ2VkUHJvcGVydHlOb2RlcyA9IHt9O1xuICBcbiAgdmFyIG5vZGVDb3VudGVyID0gMDtcblxuICBmdW5jdGlvbiBtYWtlTm9kZSgpe1xuICAgIHJldHVybiBub2RlQ291bnRlcisrO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVByb3BlcnR5Tm9kZShnZXR0ZXJTZXR0ZXIpe1xuICAgIHZhciBub2RlID0gbWFrZU5vZGUoKTtcbiAgICBnZXR0ZXJTZXR0ZXJzW25vZGVdID0gZ2V0dGVyU2V0dGVyO1xuICAgIHJldHVybiBub2RlO1xuICB9XG5cbiAgZnVuY3Rpb24gbWFrZVJlYWN0aXZlRnVuY3Rpb25Ob2RlKM67KXtcbiAgICB2YXIgbm9kZSA9IG1ha2VOb2RlKCk7XG4gICAgcmVhY3RpdmVGdW5jdGlvbnNbbm9kZV0gPSDOuztcbiAgICByZXR1cm4gbm9kZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZFJlYWN0aXZlRnVuY3Rpb24ozrspe1xuXG4gICAgaWYoICjOuy5pbk5vZGVzID09PSB1bmRlZmluZWQpIHx8ICjOuy5vdXROb2RlID09PSB1bmRlZmluZWQpICl7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0aW5nIHRvIGFkZCBhIHJlYWN0aXZlIGZ1bmN0aW9uIHRoYXQgXCIgK1xuICAgICAgICBcImRvZXNuJ3QgaGF2ZSBpbk5vZGVzIG9yIG91dE5vZGUgZGVmaW5lZCBmaXJzdC5cIik7XG4gICAgfVxuXG4gICAgzrsuaW5Ob2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChpbk5vZGUpe1xuICAgICAgcmVhY3RpdmVHcmFwaC5hZGRFZGdlKGluTm9kZSwgzrsubm9kZSk7XG4gICAgfSk7XG5cbiAgICByZWFjdGl2ZUdyYXBoLmFkZEVkZ2Uozrsubm9kZSwgzrsub3V0Tm9kZSk7XG4gIH1cblxuICBmdW5jdGlvbiBldmFsdWF0ZSjOuyl7XG4gICAgdmFyIGluVmFsdWVzID0gzrsuaW5Ob2Rlcy5tYXAoZ2V0UHJvcGVydHlOb2RlVmFsdWUpO1xuXG4gICAgaWYoaW5WYWx1ZXMuZXZlcnkoaXNEZWZpbmVkKSl7XG5cbiAgICAgIHZhciBvdXRWYWx1ZSA9IM67LmNhbGxiYWNrLmFwcGx5KG51bGwsIGluVmFsdWVzKTtcbiAgICAgIHZhciBnZXR0ZXJTZXR0ZXIgPSBnZXR0ZXJTZXR0ZXJzW867Lm91dE5vZGVdO1xuXG4gICAgICBpZihvdXRWYWx1ZSBpbnN0YW5jZW9mIFByb21pc2Upe1xuICAgICAgICBvdXRWYWx1ZS50aGVuKGdldHRlclNldHRlcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBnZXR0ZXJTZXR0ZXIob3V0VmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzRGVmaW5lZCh2YWx1ZSl7XG4gICAgcmV0dXJuICEodHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiIHx8IHZhbHVlID09PSBudWxsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFByb3BlcnR5Tm9kZVZhbHVlKG5vZGUpe1xuICAgIHJldHVybiBnZXR0ZXJTZXR0ZXJzW25vZGVdKCk7XG4gIH1cblxuICBmdW5jdGlvbiBkaWdlc3QoKXtcbiAgXG4gICAgdmFyIHNvdXJjZU5vZGVzID0gT2JqZWN0LmtleXMoY2hhbmdlZFByb3BlcnR5Tm9kZXMpO1xuICAgIHZhciB2aXNpdGVkTm9kZXMgPSByZWFjdGl2ZUdyYXBoLkRGUyhzb3VyY2VOb2Rlcyk7XG4gICAgdmFyIHRvcG9sb2dpY2FsbHlTb3J0ZWQgPSB2aXNpdGVkTm9kZXMucmV2ZXJzZSgpO1xuXG4gICAgdG9wb2xvZ2ljYWxseVNvcnRlZC5mb3JFYWNoKGZ1bmN0aW9uIChub2RlKXtcbiAgICAgIGlmKG5vZGUgaW4gcmVhY3RpdmVGdW5jdGlvbnMpe1xuICAgICAgICBldmFsdWF0ZShyZWFjdGl2ZUZ1bmN0aW9uc1tub2RlXSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBzb3VyY2VOb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUpe1xuICAgICAgZGVsZXRlIGNoYW5nZWRQcm9wZXJ0eU5vZGVzW25vZGVdO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvcGVydHlOb2RlRGlkQ2hhbmdlKG5vZGUpe1xuICAgIGNoYW5nZWRQcm9wZXJ0eU5vZGVzW25vZGVdID0gdHJ1ZTtcblxuICAgIC8vIFRPRE8gYWRkIHRoaXM6XG4gICAgLy8gc2NoZWR1bGVEaWdlc3RPbk5leHRGcmFtZSgpO1xuICB9XG5cbiAgcmVhY3RpdmVHcmFwaC5hZGRSZWFjdGl2ZUZ1bmN0aW9uICAgICAgPSBhZGRSZWFjdGl2ZUZ1bmN0aW9uO1xuICByZWFjdGl2ZUdyYXBoLm1ha2VOb2RlICAgICAgICAgICAgICAgICA9IG1ha2VOb2RlO1xuICByZWFjdGl2ZUdyYXBoLmRpZ2VzdCAgICAgICAgICAgICAgICAgICA9IGRpZ2VzdDtcbiAgcmVhY3RpdmVHcmFwaC5tYWtlUHJvcGVydHlOb2RlICAgICAgICAgPSBtYWtlUHJvcGVydHlOb2RlO1xuICByZWFjdGl2ZUdyYXBoLm1ha2VSZWFjdGl2ZUZ1bmN0aW9uTm9kZSA9IG1ha2VSZWFjdGl2ZUZ1bmN0aW9uTm9kZTtcbiAgcmVhY3RpdmVHcmFwaC5wcm9wZXJ0eU5vZGVEaWRDaGFuZ2UgICAgPSBwcm9wZXJ0eU5vZGVEaWRDaGFuZ2U7XG5cbiAgcmV0dXJuIHJlYWN0aXZlR3JhcGg7XG59XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0aXZlR3JhcGg7XG4iLCIvLyBTaW1wbGlzdGljIHJlcXVlc3RBbmltYXRpb25GcmFtZSBwb2x5ZmlsbC5cbmV4cG9ydCB2YXIgbmV4dEZyYW1lID0gKHR5cGVvZiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPT09IFwidW5kZWZpbmVkXCIpID8gc2V0VGltZW91dCA6IHJlcXVlc3RBbmltYXRpb25GcmFtZTtcblxuLy8gUmV0dXJucyBhIGRlYm91bmNlZCB2ZXJzaW9uIG9mIHRoZSBnaXZlbiBmdW5jdGlvblxuLy8gdGhhdCB3aWxsIGV4ZWN1dGUgb24gdGhlIG5leHQgYW5pbWF0aW9uIGZyYW1lLlxuLy8gU2ltaWxhciB0byBodHRwOi8vdW5kZXJzY29yZWpzLm9yZy8jZGVib3VuY2VcbmV4cG9ydCBmdW5jdGlvbiBhbmltYXRpb25GcmFtZURlYm91bmNlKGNhbGxiYWNrKXtcbiAgdmFyIHF1ZXVlZCA9IGZhbHNlO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGlmKCFxdWV1ZWQpe1xuICAgICAgcXVldWVkID0gdHJ1ZTtcbiAgICAgIG5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHF1ZXVlZCA9IGZhbHNlO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICB9O1xufVxuIiwiLy8gVGhpcyBmaWxlIHNlcnZlcyB0byBkb2N1bWVudCB0aGUgcmVhY3RpdmUgZnVuY3Rpb24gZGF0YSBzdHJ1Y3R1cmUsXG4vLyBhbmQgY29udGFpbnMgYSB1dGlsaXR5IGZ1bmN0aW9uIGZvciBwYXJzaW5nIHRoZSBvcHRpb25zIHBhc3NlZCB0byBtb2RlbC5yZWFjdCgpLlxuZnVuY3Rpb24gUmVhY3RpdmVGdW5jdGlvbihpblByb3BlcnRpZXMsIG91dFByb3BlcnR5LCBjYWxsYmFjayl7XG4gIHZhciDOuyA9IHtcblxuICAgIC8vIEFuIGFycmF5IG9mIGlucHV0IHByb3BlcnR5IG5hbWVzLlxuICAgIGluUHJvcGVydGllczogaW5Qcm9wZXJ0aWVzLFxuXG4gICAgLy8gVGhlIG91dHB1dCBwcm9wZXJ0eSBuYW1lLlxuICAgIG91dFByb3BlcnR5OiBvdXRQcm9wZXJ0eSxcblxuICAgIC8vIGZ1bmN0aW9uIChpblByb3BlcnR5VmFsdWVzKSAtPiBvdXRQcm9wZXJ0eVZhbHVlXG4gICAgLy8gSW52b2tlZCBkdXJpbmcgYSBkaWdlc3QsXG4gICAgLy8gICAtIHdoZW4gYWxsIGlucHV0IHByb3BlcnR5IHZhbHVlcyBhcmUgZmlyc3QgZGVmaW5lZCxcbiAgICAvLyAgIC0gaW4gcmVzcG9uc2UgdG8gYW55IGNoYW5nZXMgaW4gaW5wdXQgcHJvcGVydHkgdmFsdWVzLlxuICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcblxuICAgIC8vIGluTm9kZXMgYW5kIG91dE5vZGVzIGFyZSBwb3B1bGF0ZWQgaW4gdGhlIGZ1bmN0aW9uIHJlYWN0aXZlTW9kZWwuYXNzaWduTm9kZXMoKSxcbiAgICAvLyB3aGljaCBpcyBpbnZva2VkIGFmdGVyIHRoZSBvcmlnaW5hbCBSZWFjdGl2ZUZ1bmN0aW9uIG9iamVjdCBpcyBjcmVhdGVkLlxuXG4gICAgLy8gQW4gYXJyYXkgb2Ygbm9kZSBpZCBzdHJpbmdzIGNvcnJlc3BvbmRpbmdcbiAgICAvLyB0byB0aGUgcHJvcGVydHkgbmFtZXMgaW4gaW5Qcm9wZXJ0aWVzLlxuICAgIGluTm9kZXM6IHVuZGVmaW5lZCxcblxuICAgIC8vIFRoZSBub2RlIGlkIHN0cmluZyBjb3JyZXNwb25kaW5nIHRvIHRoZSBvdXRwdXQgcHJvcGVydHkuXG4gICAgb3V0Tm9kZTogdW5kZWZpbmVkXG4gIH07XG5cbiAgcmV0dXJuIM67O1xufVxuXG4vLyBUaGlzIGZ1bmN0aW9uIHBhcnNlcyB0aGUgb3B0aW9ucyBvYmplY3QgcGFzc2VkIGludG8gYG1vZGVsLnJlYWN0KG9wdGlvbnMpYCxcbi8vIHRyYW5zZm9ybWluZyBpdCBpbnRvIGFuIGFycmF5IG9mIFJlYWN0aXZlRnVuY3Rpb24gaW5zdGFuY2VzLlxuUmVhY3RpdmVGdW5jdGlvbi5wYXJzZSA9IGZ1bmN0aW9uIChvcHRpb25zKXtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9wdGlvbnMpLm1hcChmdW5jdGlvbiAob3V0UHJvcGVydHkpe1xuICAgIHZhciBhcnJheSA9IG9wdGlvbnNbb3V0UHJvcGVydHldO1xuICAgIHZhciBjYWxsYmFjayA9IGFycmF5LnNwbGljZShhcnJheS5sZW5ndGggLSAxKVswXTtcbiAgICB2YXIgaW5Qcm9wZXJ0aWVzID0gYXJyYXk7XG4gICAgcmV0dXJuIFJlYWN0aXZlRnVuY3Rpb24oaW5Qcm9wZXJ0aWVzLCBvdXRQcm9wZXJ0eSwgY2FsbGJhY2spO1xuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0aXZlRnVuY3Rpb247XG4iLCIvLyBUaGlzIGlzIHRoZSB0b3AtbGV2ZWwgbW9kdWxlIGV4cG9ydGVkIGJ5IHRoZSByZWFjdGl2ZS1tb2RlbCBwYWNrYWdlLlxuLy8gVGhlIGV4cG9ydGVkIGZ1bmN0aW9uIGlzIGEgY29uc3RydWN0b3IgZm9yIHJlYWN0aXZlIG1vZGVsc1xuLy8gdGhhdCBhbHNvIGV4cG9zZXMgdGhlIGRpZ2VzdCgpIGZ1bmN0aW9uLCB3aGljaCBzeW5jaHJvbm91c2x5XG4vLyBldmFsdWF0ZXMgdGhlIGRhdGEgZGVwZW5kZW5jeSBncmFwaC5cblxuLy8gQnkgQ3VycmFuIEtlbGxlaGVyIEp1bmUgMjAxNVxuXG5pbXBvcnQgR3JhcGggZnJvbSBcIi4vZ3JhcGhcIjtcbmltcG9ydCBSZWFjdGl2ZUdyYXBoIGZyb20gXCIuL3JlYWN0aXZlR3JhcGhcIjtcbmltcG9ydCBSZWFjdGl2ZUZ1bmN0aW9uIGZyb20gXCIuL3JlYWN0aXZlRnVuY3Rpb25cIjtcbmltcG9ydCB7IG5leHRGcmFtZSwgYW5pbWF0aW9uRnJhbWVEZWJvdW5jZSB9IGZyb20gXCIuL2FuaW1hdGlvbkZyYW1lRGVib3VuY2VcIjtcblxudmFyIHJlYWN0aXZlR3JhcGggPSBuZXcgUmVhY3RpdmVHcmFwaCgpO1xuXG52YXIgYWRkUmVhY3RpdmVGdW5jdGlvbiAgICAgID0gcmVhY3RpdmVHcmFwaC5hZGRSZWFjdGl2ZUZ1bmN0aW9uO1xudmFyIG1ha2VQcm9wZXJ0eU5vZGUgICAgICAgICA9IHJlYWN0aXZlR3JhcGgubWFrZVByb3BlcnR5Tm9kZTtcbnZhciBtYWtlUmVhY3RpdmVGdW5jdGlvbk5vZGUgPSByZWFjdGl2ZUdyYXBoLm1ha2VSZWFjdGl2ZUZ1bmN0aW9uTm9kZTtcbnZhciBwcm9wZXJ0eU5vZGVEaWRDaGFuZ2UgICAgPSByZWFjdGl2ZUdyYXBoLnByb3BlcnR5Tm9kZURpZENoYW5nZTtcblxudmFyIHNjaGVkdWxlRGlnZXN0ID0gYW5pbWF0aW9uRnJhbWVEZWJvdW5jZShyZWFjdGl2ZUdyYXBoLmRpZ2VzdCk7XG5cbmZ1bmN0aW9uIFJlYWN0aXZlTW9kZWwoKXtcbiAgXG4gIC8vIEVuZm9yY2UgdXNlIG9mIG5ldywgc28gaW5zdGFuY2VvZiBhbmQgdHlwZW9mIGNoZWNrcyB3aWxsIGFsd2F5cyB3b3JrLlxuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUmVhY3RpdmVNb2RlbCkpIHtcbiAgICByZXR1cm4gbmV3IFJlYWN0aXZlTW9kZWwoKTtcbiAgfVxuXG4gIC8vIFJlZmVyIHRvIGB0aGlzYCAodGhlIFJlYWN0aXZlTW9kZWwgaW5zdGFuY2UpIGFzIGBtb2RlbGAgaW4gdGhpcyBjbG9zdXJlLlxuICB2YXIgbW9kZWwgPSB0aGlzO1xuXG4gIC8vIHsgcHJvcGVydHkgLT4gZGVmYXVsdFZhbHVlIH1cbiAgdmFyIHB1YmxpY1Byb3BlcnRpZXMgPSB7fTtcblxuICAvLyB7IHByb3BlcnR5IC0+IHZhbHVlIH1cbiAgdmFyIHZhbHVlcyA9IHt9O1xuXG4gIC8vIHsgcHJvcGVydHkgLT4gbm9kZSB9XG4gIHZhciB0cmFja2VkUHJvcGVydGllcyA9IHt9O1xuXG4gIHZhciBpc0ZpbmFsaXplZCA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGFkZFB1YmxpY1Byb3BlcnR5KHByb3BlcnR5LCBkZWZhdWx0VmFsdWUpe1xuICAgIGlmKGlzRmluYWxpemVkKXtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1vZGVsLmFkZFB1YmxpY1Byb3BlcnR5KCkgaXMgYmVpbmcgXCIgK1xuICAgICAgICBcImludm9rZWQgYWZ0ZXIgbW9kZWwuZmluYWxpemUsIGJ1dCB0aGlzIGlzIG5vdCBhbGxvd2VkLiBcIitcbiAgICAgICAgXCJQdWJsaWMgcHJvcGVydGllcyBtYXkgb25seSBiZSBhZGRlZCBiZWZvcmUgdGhlIG1vZGVsIGlzIGZpbmFsaXplZC5cIik7XG4gICAgfVxuXG4gICAgLy8gVE9ETyB0ZXN0IHRoaXNcbiAgICAvLyBpZihpc0RlZmluZWQoZGVmYXVsdFZhbHVlKSl7XG4gICAgLy8gIHRocm93IG5ldyBFcnJvcihcIm1vZGVsLmFkZFB1YmxpY1Byb3BlcnR5KCkgaXMgYmVpbmcgXCIgK1xuICAgIC8vICAgIFwiaW52b2tlZCB3aXRoIGFuIHVuZGVmaW5lZCBkZWZhdWx0IHZhbHVlLiBEZWZhdWx0IHZhbHVlcyBmb3IgcHVibGljIHByb3BlcnRpZXMgXCIgK1xuICAgIC8vICAgIFwibXVzdCBiZSBkZWZpbmVkLCB0byBndWFyYW50ZWUgcHJlZGljdGFibGUgYmVoYXZpb3IuIEZvciBwdWJsaWMgcHJvcGVydGllcyB0aGF0IFwiICtcbiAgICAvLyAgICBcImFyZSBvcHRpb25hbCBhbmQgc2hvdWxkIGhhdmUgdGhlIHNlbWFudGljcyBvZiBhbiB1bmRlZmluZWQgdmFsdWUsIFwiICtcbiAgICAvLyAgICBcInVzZSBSZWFjdGl2ZU1vZGVsLk5PTkUgYXMgdGhlIGRlZmF1bHQgdmFsdWUuXCIpO1xuICAgIC8vfVxuXG4gICAgcHVibGljUHJvcGVydGllc1twcm9wZXJ0eV0gPSBkZWZhdWx0VmFsdWU7XG5cbiAgICByZXR1cm4gbW9kZWw7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREZWZhdWx0VmFsdWUocHJvcGVydHkpe1xuICAgIHJldHVybiBwdWJsaWNQcm9wZXJ0aWVzW3Byb3BlcnR5XTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmFsaXplKCl7XG4gICAgaWYoaXNGaW5hbGl6ZWQpe1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibW9kZWwuZmluYWxpemUoKSBpcyBiZWluZyBpbnZva2VkIFwiICtcbiAgICAgICAgXCJtb3JlIHRoYW4gb25jZSwgYnV0IHRoaXMgZnVuY3Rpb24gc2hvdWxkIG9ubHkgYmUgaW52b2tlZCBvbmNlLlwiKTtcbiAgICB9XG4gICAgaXNGaW5hbGl6ZWQgPSB0cnVlO1xuXG4gICAgT2JqZWN0LmtleXMocHVibGljUHJvcGVydGllcykuZm9yRWFjaChmdW5jdGlvbihwcm9wZXJ0eSl7XG4gICAgICB0cmFjayhwcm9wZXJ0eSk7XG4gICAgICBtb2RlbFtwcm9wZXJ0eV0oZ2V0RGVmYXVsdFZhbHVlKHByb3BlcnR5KSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gbW9kZWw7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTdGF0ZSgpe1xuICAgIHZhciBzdGF0ZSA9IHt9O1xuICAgIE9iamVjdC5rZXlzKHB1YmxpY1Byb3BlcnRpZXMpLmZvckVhY2goIGZ1bmN0aW9uIChwdWJsaWNQcm9wZXJ0eSl7XG4gICAgICBzdGF0ZVtwdWJsaWNQcm9wZXJ0eV0gPSB2YWx1ZXNbcHVibGljUHJvcGVydHldO1xuICAgIH0pO1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFN0YXRlKHN0YXRlKXtcblxuICAgIC8vIFRPRE8gdGhyb3cgYW4gZXJyb3IgaWYgc29tZSBwcm9wZXJ0eSBpbiBzdGF0ZVxuICAgIC8vIGlzIG5vdCBpbiBwdWJsaWNQcm9wZXJ0aWVzXG4gICAgLy9PYmplY3Qua2V5cyhzdGF0ZSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpe1xuICAgIC8vICBpZighcHJvcGVydHkgaW4gcHVibGljUHJvcGVydGllcyl7XG4gICAgLy8gICAgdGhyb3cgbmV3IEVycm9yKFwiQXR0ZW1wdGluZyB0byBzZXQgYSBwcm9wZXJ0eSB0aGF0IGhhcyBub3RcIiArXG4gICAgLy8gICAgICBcIiBiZWVuIGFkZGVkIGFzIGEgcHVibGljIHByb3BlcnR5IGluIG1vZGVsLnNldFN0YXRlKClcIik7XG4gICAgLy8gIH1cbiAgICAvL30pO1xuXG4gICAgLy8gUmVzZXQgc3RhdGUgdG8gZGVmYXVsdCB2YWx1ZXMuXG4gICAgT2JqZWN0LmtleXMocHVibGljUHJvcGVydGllcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpe1xuICAgICAgdmFyIGRlZmF1bHRWYWx1ZSA9IHB1YmxpY1Byb3BlcnRpZXNbcHJvcGVydHldO1xuICAgICAgbW9kZWxbcHJvcGVydHldKGRlZmF1bHRWYWx1ZSk7XG4gICAgfSk7XG5cbiAgICAvLyBBcHBseSB2YWx1ZXMgaW5jbHVkZWQgaW4gdGhlIG5ldyBzdGF0ZS5cbiAgICBPYmplY3Qua2V5cyhzdGF0ZSkuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpe1xuICAgICAgdmFyIG5ld1ZhbHVlID0gc3RhdGVbcHJvcGVydHldXG4gICAgICBtb2RlbFtwcm9wZXJ0eV0obmV3VmFsdWUpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhY3Qob3B0aW9ucyl7XG4gICAgUmVhY3RpdmVGdW5jdGlvbi5wYXJzZShvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uICjOuyl7XG4gICAgICBhc3NpZ25Ob2RlcyjOuyk7XG4gICAgICBhZGRSZWFjdGl2ZUZ1bmN0aW9uKM67KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFzc2lnbk5vZGVzKM67KXtcbiAgICDOuy5pbk5vZGVzID0gzrsuaW5Qcm9wZXJ0aWVzLm1hcCh0cmFjayk7XG4gICAgzrsubm9kZSA9IG1ha2VSZWFjdGl2ZUZ1bmN0aW9uTm9kZSjOuyk7XG4gICAgzrsub3V0Tm9kZSA9IHRyYWNrKM67Lm91dFByb3BlcnR5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYWNrKHByb3BlcnR5KXtcbiAgICBpZihwcm9wZXJ0eSBpbiB0cmFja2VkUHJvcGVydGllcyl7XG4gICAgICByZXR1cm4gdHJhY2tlZFByb3BlcnRpZXNbcHJvcGVydHldO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZ2V0dGVyU2V0dGVyID0gY3JlYXRlR2V0dGVyU2V0dGVyKHByb3BlcnR5KTtcbiAgICAgIHZhciBwcm9wZXJ0eU5vZGUgPSBtYWtlUHJvcGVydHlOb2RlKGdldHRlclNldHRlcik7XG4gICAgICBtb2RlbFtwcm9wZXJ0eV0gPSBnZXR0ZXJTZXR0ZXI7XG4gICAgICB0cmFja2VkUHJvcGVydGllc1twcm9wZXJ0eV0gPSBwcm9wZXJ0eU5vZGU7XG4gICAgICByZXR1cm4gcHJvcGVydHlOb2RlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUdldHRlclNldHRlcihwcm9wZXJ0eSl7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICh2YWx1ZSl7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlc1twcm9wZXJ0eV07XG4gICAgICB9XG4gICAgICB2YWx1ZXNbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICBwcm9wZXJ0eURpZENoYW5nZShwcm9wZXJ0eSk7XG4gICAgICByZXR1cm4gbW9kZWw7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb3BlcnR5RGlkQ2hhbmdlKHByb3BlcnR5KXtcbiAgICB2YXIgcHJvcGVydHlOb2RlID0gdHJhY2tlZFByb3BlcnRpZXNbcHJvcGVydHldO1xuICAgIHByb3BlcnR5Tm9kZURpZENoYW5nZShwcm9wZXJ0eU5vZGUpO1xuICAgIHNjaGVkdWxlRGlnZXN0KCk7XG4gIH1cblxuICBtb2RlbC5hZGRQdWJsaWNQcm9wZXJ0eSA9IGFkZFB1YmxpY1Byb3BlcnR5O1xuICBtb2RlbC5maW5hbGl6ZSA9IGZpbmFsaXplO1xuICBtb2RlbC5nZXRTdGF0ZSA9IGdldFN0YXRlO1xuICBtb2RlbC5zZXRTdGF0ZSA9IHNldFN0YXRlO1xuICBtb2RlbC5yZWFjdCA9IHJlYWN0O1xufVxuXG5SZWFjdGl2ZU1vZGVsLmRpZ2VzdCA9IHJlYWN0aXZlR3JhcGguZGlnZXN0O1xuXG4vLyBFeHBvcnQgdGhlc2UgaW50ZXJuYWwgbW9kdWxlcyBmb3IgdW5pdCB0ZXN0aW5nIHZpYSBSb2xsdXAgQ29tbW9uSlMgYnVpbGQuXG5SZWFjdGl2ZU1vZGVsLkdyYXBoID0gR3JhcGg7XG5SZWFjdGl2ZU1vZGVsLlJlYWN0aXZlR3JhcGggPSBSZWFjdGl2ZUdyYXBoO1xuUmVhY3RpdmVNb2RlbC5SZWFjdGl2ZUZ1bmN0aW9uID0gUmVhY3RpdmVGdW5jdGlvbjtcblJlYWN0aXZlTW9kZWwubmV4dEZyYW1lID0gbmV4dEZyYW1lO1xuXG5leHBvcnQgZGVmYXVsdCBSZWFjdGl2ZU1vZGVsO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxFQUNBLFNBQVMsS0FBSyxFQUFFO0FBRGhCLEVBRUE7QUFGQSxFQUdBO0FBSEEsRUFJQTtBQUpBLEVBS0E7QUFMQSxFQU1BLEVBQUUsSUFBSSxLQUFLLEdBQUcsRUFBRTs7QUFOaEIsRUFRQTtBQVJBLEVBU0EsRUFBRSxTQUFTLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFUdEIsRUFVQSxJQUFJLE9BQU8sS0FBSyxDQUFDLENBQUMsQ0FBQyxLQUFLLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUM7QUFWdEMsRUFXQTs7QUFYQSxFQWFBLEVBQUUsU0FBUyxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQWJ4QixFQWNBLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFkdkIsRUFlQTs7QUFmQSxFQWlCQTtBQWpCQSxFQWtCQTtBQWxCQSxFQW1CQTtBQW5CQSxFQW9CQTtBQXBCQSxFQXFCQTtBQXJCQSxFQXNCQTtBQXRCQSxFQXVCQTs7QUF2QkEsRUF5QkE7QUF6QkEsRUEwQkE7QUExQkEsRUEyQkEsRUFBRSxTQUFTLEdBQUcsQ0FBQyxXQUFXLEVBQUUsV0FBVyxDQUFDOztBQTNCeEMsRUE2QkEsSUFBSSxJQUFJLE9BQU8sR0FBRyxFQUFFO0FBN0JwQixFQThCQSxJQUFJLElBQUks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